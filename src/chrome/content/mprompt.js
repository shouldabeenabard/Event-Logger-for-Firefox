if ("undefined" == typeof(JSNamespace)) {  var JSNamespace = {};}JSNamespace.user_id1_type="email";JSNamespace.user_id2_type="phone";          //AMR: This is not automatic, validation functions need updatingJSNamespace.user_site="SITE";JSNamespace.MaisPrompts = {  /**   * Prompt users   */	credLoad: function(event){				window.setTimeout (function () {window.centerWindowOnScreen();}, 0); //otherwise it will be a bit too early	},	    	gaveCred: function(event){		var params = window.arguments[0];		var id1 = document.getElementById("user_id1").value;		var id2 = document.getElementById("user_id2").value;				if (!(id1 && id2))		{			document.getElementById("mp_error_label").value = "Please fill both fields";			return false;		}              id1 = this.validateEmail(id1);		if (id1=="")		{			document.getElementById("mp_error_label").value = "Please enter a valid email address";			return false;					}		        id2 = this.validatePhone(id2);		if (id2=="")		{			document.getElementById("mp_error_label").value = "Please enter a valid phone number";			return false;					}		else		{			params.out = {user_id1:id1, user_id2:id2, user_site:JSNamespace.user_site};			return true;		}	},			cancelCred: function(event){		var params = window.arguments[0];		params.killparent=true;		return true;	},		validateEmail: function(str)	{		//Curtesy www.javascriptkit.com		var filter=/^([\w-]+(?:\.[\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$/i;		if(filter.test(str)) {return str; }        else{return "";}	},		validatePhone: function(str)	{	    var stripped = str.replace(/[\(\)\.\-\ ]/g, ''); 		if (stripped.length < 8 || stripped.length >12) {return false;}		if (!isNaN(stripped)){return stripped;}        else{return ""};	}}			